<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Reinhold Kugelmann - Ihr zuverlässiger Partner für Heizung, Sanitär, Bad Sanierung und Wartung.">
    <title>Reinhold Kugelmann - Heizung & Sanitär</title>
    
    <link rel="stylesheet" href="css/style.css">

    <style>
        .ba-slider {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border-radius: 5px;
            cursor: col-resize; /* Zeigt Mauszeiger als Pfeile an */
            touch-action: none; /* Wichtig für Handy-Wischen */
            margin-bottom: 20px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            border: 1px solid #ddd;
        }

        .ba-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* Klicks gehen durch zum Container */
        }

        .ba-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* Das "Nachher"-Bild (liegt oben) */
        .ba-after {
            width: 50%; /* Startet in der Mitte */
            border-right: 3px solid #007bff; /* Blaue Trennlinie */
            box-sizing: border-box;
            z-index: 10;
        }

        /* Trick: Bild im Container fixieren, damit es nicht gestaucht wird */
        .ba-after img {
            width: 100vw; /* Wird später per JS korrigiert */
            max-width: none;
        }

        /* Der runde Griff */
        .ba-handle {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background-color: #007bff;
            border: 3px solid white;
            border-radius: 50%;
            z-index: 20;
            box-shadow: 0 4px 6px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Pfeile im Griff */
        .ba-handle::after {
            content: '\2194'; /* Unicode Pfeil links/rechts */
            color: white;
            font-size: 20px;
            font-weight: bold;
        }

        /* Beschriftung (Vorher/Nachher) */
        .ba-label {
            position: absolute;
            bottom: 1rem;
            padding: 5px 12px;
            background: rgba(0,0,0,0.6);
            color: white;
            border-radius: 20px;
            font-size: 14px;
            font-weight: bold;
            z-index: 15;
            pointer-events: none;
        }
        .ba-label-before { left: 1rem; }
        .ba-label-after { right: 1rem; }

        /* Anpassung für Handys */
        @media (max-width: 600px) {
            .ba-slider { height: 250px; }
        }
    </style>
</head>
<body>

    <button class="openbtn" onclick="openNav()">☰ </button>

    <div id="sidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">×</a>
        <a href="index.html">Startseite</a>
        <a href="leistungen.html">Leistungen</a>
        <a href="ueber-uns.html">Über uns</a>
        <a href="referenzen.html">Referenzen</a>
        <a href="kontakt.html">Kontakt</a>
        <hr style="border-color: #444;">
        <a href="impressum.html">Impressum</a>
        <a href="datenschutz.html">Datenschutz</a>
    </div>

    <div id="main-overlay" onclick="closeNav()"></div>

    <header>
        <div class="banner-container">
            <img src="images/banner.jpg" alt="Bannerbild Reinhold Kugelmann" class="banner-image">
        </div>
        <a href="kontakt.html" class="cta-button">Jetzt Kontakt aufnehmen</a>
    </header>

    <main>
        <section id="startseite">
            <h2 class="section-title">Willkommen bei Reinhold Kugelmann!</h2>
            <p><strong>Reinhold Kugelmann</strong> – Ihr Partner für Heizung & Bad</p>
            <p>Ob moderne Heizsysteme oder stilvolle Badsanierung – wir stehen für Qualität, Zuverlässigkeit und handwerkliches Können. Wir planen und installieren energieeffiziente Heizungen, sanieren Bäder mit höchstem Anspruch an Design und Funktion und sorgen dafür, dass Sie sich rundum wohlfühlen.</p>

            <div class="offer-grid-container">
                <div class="offer-list">
                    <div class="offer-item">
                        <h3>Innovative Heizlösungen</h3>
                        <p>Für eine nachhaltige Zukunft.</p>
                        <a href="Leistungen/heizloesungen.html">Mehr erfahren</a>
                    </div>
                    <div class="offer-item">
                        <h3>Bad Sanierung & Sanitär</h3>
                        <p>Ihr Weg zum modernen Bad.</p>
                        <a href="Leistungen/badsanierung.html">Mehr erfahren</a>
                    </div>
                    <div class="offer-item">
                        <h3>Wartung & Reparaturen</h3>
                        <p>Für Heizung und Wasserleitungen.</p>
                        <a href="Leistungen/wartungreparaturen.html">Mehr erfahren</a>
                    </div>
                </div>

                <div class="map-container">
                    <h3>Unser Standort</h3>
                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d669.104977691628!2d8.380548392901845!3d50.19411818846408!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47bdaff3ffe50e85%3A0xe4f29c3ac45594d5!2sReinhold%20Kugelmann%20Heizung%26Sanit%C3%A4r%20Meisterbetrieb%20Inh.%20Axel%20Bachan!5e1!3m2!1sde!2sde!4v1744298678172!5m2!1sde!2sde" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </div>

            <h2 class="section-title" style="margin-top: 40px;">Unsere Arbeit: Vorher & Nachher</h2>
            <div style="max-width: 800px; margin: 0 auto 40px auto; text-align: center;">
                <p>Sehen Sie selbst, was möglich ist. Bewegen Sie den Regler nach links oder rechts.</p>
                
                <div class="ba-slider" id="bathroom-slider-main">
                    <div class="ba-handle"></div>
                    
                    <div class="ba-image ba-after">
                        <img src="https://images.unsplash.com/photo-1584622050111-993a426fbf0a?q=80&w=2070&auto=format&fit=crop" alt="Neues Bad">
                        <span class="ba-label ba-label-after">Nachher</span>
                    </div>

                    <div class="ba-image ba-before">
                        <img src="https://images.unsplash.com/photo-1503387762-592deb58ef4e?q=80&w=2070&auto=format&fit=crop" alt="Altes Bad">
                         <span class="ba-label ba-label-before">Vorher</span>
                    </div>
                </div>
            </div>
            <h2 class="section-title">Was unsere Kunden sagen</h2>
            <div class="testimonial">
                <p>"Unsere Familie wird bereits in der dritten Generation von der Firma Kugelmann betreut... Die Mitarbeiter waren stets freundlich und sachkundig."</p>
                <p>- Lutz Riehl</p>
            </div>
            <div class="testimonial">
                <p>"Hervorragende Erreichbarkeit, große Zuverlässigkeit... Das von der Firma federführend komplett renovierte Bad ist sehr schön geworden."</p>
                <p>- Hansjörg Melcher</p>
            </div>
             <div class="mehr-bewertungen">
                 <a href="https://www.google.com/search?q=Reinhold+Kugelmann" class="cta-button" target="_blank">Mehr Google-Bewertungen anzeigen</a>
            </div>
        </section>
    </main>

    <footer>
          <p>© 2025 Reinhold Kugelmann. Alle Rechte vorbehalten. | <a href="impressum.html" style="color: white;">Impressum</a> | <a href="datenschutz.html" style="color: white;">Datenschutz</a></p>
    </footer>

    <script>
        // Navigation Logik
        function openNav() {
          document.getElementById("sidenav").style.width = "250px";
          document.getElementById("main-overlay").style.display = "block";
        }
        function closeNav() {
          document.getElementById("sidenav").style.width = "0";
          document.getElementById("main-overlay").style.display = "none";
        }

        // --- SLIDER FUNKTION ---
        document.addEventListener('DOMContentLoaded', () => {
            const slider = document.getElementById('bathroom-slider-main');
            
            // Sicherheitscheck: Gibt es den Slider?
            if (!slider) {
                console.error("Slider Element nicht gefunden!");
                return;
            }

            const afterWrapper = slider.querySelector('.ba-after');
            const afterImg = afterWrapper.querySelector('img');
            const handle = slider.querySelector('.ba-handle');
            let active = false;

            // 1. Bildbreite korrekt setzen (damit es nicht gestaucht wird)
            function setImgWidth() {
                const sliderWidth = slider.getBoundingClientRect().width;
                if(afterImg) afterImg.style.width = sliderWidth + 'px';
            }
            
            // Sofort ausführen und bei Fenster-Änderung
            setImgWidth();
            window.addEventListener('resize', setImgWidth);

            // 2. Bewegungs-Logik
            function slide(x) {
                let rect = slider.getBoundingClientRect();
                // Berechne Mausposition relativ zum Slider (0.0 bis 1.0)
                let position = (x - rect.left) / rect.width;
                // Begrenzen zwischen 0 und 1
                position = Math.max(0, Math.min(1, position));
                
                // CSS updaten
                afterWrapper.style.width = (position * 100) + "%";
                handle.style.left = (position * 100) + "%";
            }

            // MAUS Events (Desktop)
            slider.addEventListener('mousedown', (e) => { 
                active = true; 
                slide(e.clientX); 
            });
            window.addEventListener('mouseup', () => { active = false; });
            slider.addEventListener('mousemove', (e) => { 
                if (active) slide(e.clientX); 
            });
            
            // TOUCH Events (Handy)
            slider.addEventListener('touchstart', (e) => { 
                active = true; 
                slide(e.touches[0].clientX); 
            }, { passive: true });
            
            window.addEventListener('touchend', () => { active = false; });
            
            slider.addEventListener('touchmove', (e) => { 
                if (active) slide(e.touches[0].clientX); 
            }, { passive: true });
        });
    </script>

</body>
</html>
